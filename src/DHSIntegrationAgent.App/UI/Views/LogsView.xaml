<UserControl x:Class="DHSIntegrationAgent.App.UI.Views.LogsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid Margin="18">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="0,0,0,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <StackPanel>
                <TextBlock Text="API Call Logs" FontSize="20" FontWeight="SemiBold"/>
                <TextBlock Text="Detailed API call logs with request and response information." Foreground="{StaticResource BrushMuted}" Margin="0,4,0,0"/>
            </StackPanel>
            <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Bottom">
                <Button   FontSize="13.5" Height="33" Margin="5,0" BorderBrush="#32729B"  Foreground="#32729B"
                                  Style="{StaticResource MaterialDesignOutlinedButton}" materialDesign:ButtonAssist.CornerRadius="5" 
                                   Command="{Binding RefreshCommand}"
                                   >
                    <StackPanel  Margin="0,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                        <materialDesign:PackIcon Kind="Sync" Width="17" Height="17" Margin="0,0,5,0"/>
                        <TextBlock  VerticalAlignment="Center" Foreground="#32729B" > Refresh</TextBlock>
                    </StackPanel>
                </Button>
               
            </StackPanel>
        </Grid>

        <Border Grid.Row="1" Background="{StaticResource BrushCard}" BorderBrush="{StaticResource BrushBorder}" BorderThickness="1" CornerRadius="{StaticResource Radius10}" Padding="12">
            <DataGrid  ColumnHeaderStyle="{StaticResource TableHeaderStyle}"
                RowStyle="{StaticResource TableRowStyle}"
                CellStyle="{StaticResource TableCellStyle}"
                ItemsSource="{Binding ApiCallLogs}" AutoGenerateColumns="False" IsReadOnly="True"
                CanUserAddRows="False"
                CanUserDeleteRows="False"
                SelectionMode="Single" 
                HeadersVisibility="Column" 
                Background="White"
                RowBackground="White"
                AlternatingRowBackground="#FFF9FAFB"
                HorizontalScrollBarVisibility="Disabled"
                VerticalScrollBarVisibility="Auto"  
                GridLinesVisibility="None"
                HorizontalGridLinesBrush="Transparent"
                VerticalGridLinesBrush="Transparent"
                BorderThickness="0">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding ApiCallLogId}" Width="*"/>
                    <DataGridTextColumn Header="Provider" Binding="{Binding ProviderDhsCode}" Width="1.5*"/>
                    <DataGridTextColumn Header="Endpoint" Binding="{Binding EndpointName}" Width="2*"/>
                    <DataGridTextColumn Header="CorrelationId" Binding="{Binding CorrelationId}" Width="2*"/>
                    <DataGridTextColumn Header="Request UTC" Binding="{Binding RequestUtc}" Width="2*"/>
                    <DataGridTextColumn Header="Response UTC" Binding="{Binding ResponseUtc}" Width="2*"/>
                    <DataGridTextColumn Header="Duration (ms)" Binding="{Binding DurationMs}" Width="*"/>
                    <DataGridTextColumn Header="Status" Binding="{Binding HttpStatusCode}" Width="*"/>
                    <DataGridCheckBoxColumn Header="Success" Binding="{Binding Succeeded}" Width="*"/>
                    <DataGridTextColumn Header="Error" Binding="{Binding ErrorMessage}" Width="2*"/>
                    <DataGridTextColumn Header="Req Bytes" Binding="{Binding RequestBytes}" Width="*"/>
                    <DataGridTextColumn Header="Resp Bytes" Binding="{Binding ResponseBytes}" Width="*"/>
                    <DataGridTextColumn Header="Gzip" Binding="{Binding WasGzipRequest}" Width="*"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>
    </Grid>
</UserControl>
